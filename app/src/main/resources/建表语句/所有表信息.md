# 实体表
## **用户表**

### 基本信息

- 用户ID（唯一标识）
- 用户名 唯一
- 密码（加密存储）
- 邮箱 唯一
- 手机号码 唯一
- 性别 1男2女
- 出生日期
- 头像URL
- 个人签名
- 个人空间背景图
- 注册时间
- 哈希盐

### 行为数据

- 收藏列表 key
- 播放时长统计 int 
- 播放数目统计 int
- 最后登录时间



## 收藏表

- 收藏ID（唯一标识）-
- 用户ID（逻辑外键，关联到用户表）
- 歌曲ID（逻辑外键，关联到歌曲表）
- 更新时间
- 描述
- 封面图片URL
- 时长（总时长）



## 播放历史表

- 播放历史ID（唯一标识）
- 用户ID（逻辑外键，关联到用户表）
- 歌曲ID（逻辑外键，关联到歌曲表）
- 播放进度（百分比）
- IP地址
- 播放模式（如单曲循环、列表循环、随机播放等）

- 音量设置
- 是否暂停

## 歌曲表

- 歌曲ID（唯一标识）
- 歌曲名称
- 歌手/艺术家
- 专辑id
- 发行年份
- 时长（秒）
- 音频格式（如MP3、WAV等）
- 文件大小
- 封面图片URL
- 比特率
- 采样率
- 存储路径

## 歌单表

- 歌单ID（唯一标识）
- 歌单名称
- 创建者ID（逻辑外键，关联到用户表）
- 创建时间
- 更新时间
- 歌单描述
- 歌单封面图片URL

- 歌单时长（总时长）

## 专辑表

- 专辑ID（唯一标识）
- 专辑名称

## 评论表

- 评论ID（唯一标识）
- 歌曲ID（逻辑外键，关联到歌曲表）
- 用户ID（逻辑外键，关联到用户表）
- 评论内容
- 评论时间

- 点赞数

- 评论IP

## 标签表

- 标签ID（唯一标识）
- 标签名称
- 标签描述
- 标签创建时间
- 标签更新时间
- 标签状态（如启用、禁用等）

## 管理员表

- 管理员ID（唯一标识）
- 用户名
- 密码（加密存储）
- 邮箱
- 手机号码
- 姓名
- 头像URL
# 关系表

| 表名           | 用户表 | 收藏表 | 播放历史表 | 歌曲表 | 歌单表 | 专辑表 | 评论表 | 标签表 | 管理员表 | 用户行为表 |
| :------------- | :----- | :----- | :--------- | :----- | :----- | :----- | :----- | :----- | :------- | :--------- |
| **用户表**     | -      | 1:1    | 1:N        | x      | 1:N    | x      | 1:N    | x      | x        | 1:1        |
| **收藏表**     |        | -      | x          | N-M    | x      | x      | x      | x      | x        | x          |
| **播放历史表** |        |        | -          | 1-N    | x      | x      | x      | x      | x        | x          |
| **歌曲表**     |        |        |            | -      | N-M    | 1-N    | 1-N    | N-M    | x        | x          |
| **歌单表**     |        |        |            |        | -      | x      | x      | x      | x        | x          |
| **专辑表**     |        |        |            |        |        | -      | x      | x      | x        | x          |
| **评论表**     |        |        |            |        |        |        | -      | x      | x        | x          |
| **标签表**     |        |        |            |        |        |        |        | -      | x        | x          |
| **管理员表**   |        |        |            |        |        |        |        |        | -        | x          |
|                |        |        |            |        |        |        |        |        |          |            |

## 收藏-歌曲关系表

| 字段名   | 数据类型         | 是否可为空 | 默认值            | 描述                         |
| :------- | :--------------- | :--------- | :---------------- | :--------------------------- |
| 关系ID   | BIGINT UNSIGNED  | NOT NULL   | AUTO_INCREMENT    | 唯一标识                     |
| 收藏ID   | BIGINT UNSIGNED  | NOT NULL   | -                 | 逻辑外键，关联到收藏表       |
| 歌曲ID   | BIGINT UNSIGNED  | NOT NULL   | -                 | 逻辑外键，关联到歌曲表       |
| 收藏时间 | DATETIME         | NOT NULL   | CURRENT_TIMESTAMP | 收藏时间                     |
## 歌曲-歌单关系表

| 字段名   | 数据类型        | 是否可为空 | 默认值            | 描述                   |
| :------- | :-------------- | :--------- | :---------------- | :--------------------- |
| 关系ID   | BIGINT UNSIGNED | NOT NULL   | AUTO_INCREMENT    | 唯一标识               |
| 歌单ID   | BIGINT UNSIGNED | NOT NULL   | -                 | 逻辑外键，关联到歌单表 |
| 歌曲ID   | BIGINT UNSIGNED | NOT NULL   | -                 | 逻辑外键，关联到歌曲表 |
| 添加时间 | DATETIME        | NOT NULL   | CURRENT_TIMESTAMP | 歌曲添加到歌单的时间   |
| 添加顺序 | INT UNSIGNED    | NOT NULL   | 0                 | 歌曲在歌单中的播放顺序 |
## 歌曲-标签表

| 字段名   | 数据类型         | 是否可为空 | 默认值            | 描述                     |
| :------- | :--------------- | :--------- | :---------------- | :----------------------- |
| 关系ID   | BIGINT UNSIGNED  | NOT NULL   | AUTO_INCREMENT    | 唯一标识                 |
| 歌曲ID   | BIGINT UNSIGNED  | NOT NULL   | -                 | 逻辑外键，关联到歌曲表   |
| 标签ID   | BIGINT UNSIGNED  | NOT NULL   | -                 | 逻辑外键，关联到标签表   |
# 审核表

##  歌曲审核表

- 审核ID（唯一标识）
- 审核状态（如待审核、已通过、已拒绝）
- 审核时间
- 审核人ID（逻辑外键，关联到管理员表）
- 审核通过时间
- 审核拒绝原因
- 审核修改建议
- 审核优先级（如高、中、低）
- 用户ID（逻辑外键，关联到用户表）
- 
- 歌曲名称
- 歌手/艺术家
- 专辑id
- 发行年份
- 时长（秒）
- 音频格式（如MP3、WAV等）
- 文件大小
- 封面图片URL
- 比特率
- 采样率
- 存储路径

## 新增标签审核表

- 审核ID（唯一标识）
- 审核状态（如待审核、已通过、已拒绝）

- 审核时间

- 审核人ID（逻辑外键，关联到管理员表）

- 审核通过时间

- 审核拒绝原因

- 审核修改建议

- 审核优先级（如高、中、低）

- 用户ID（逻辑外键，关联到用户表）

  

- 标签名称
- 标签描述
- 标签状态（如启用、禁用等）

## 歌曲打标签审核表

- 审核ID（唯一标识）
- 审核状态（如待审核、已通过、已拒绝）
- 审核时间
- 审核人ID（逻辑外键，关联到管理员表）
- 审核通过时间
- 审核拒绝原因
- 审核修改建议
- 审核优先级（如高、中、低）
- 用户ID（逻辑外键，关联到用户表）
- 
- 标签id
- 歌曲id
